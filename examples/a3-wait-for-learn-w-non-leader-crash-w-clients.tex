%!TEX root = ../paxos-tutorial.tex

	\input{slidefig/2c2s} % two clients, two servers
	\input{slidefig/2s-msgpattern} % two server msg pattern

	% \advancetime[2]
	\msgxloss{/srv1}{/srv2}{\acc{m_1,1}}{0}
	\markintervalstart{/srv1}
		\advancetime[2]
		\msgx{/srv1}{/srv2}{\acc{m_1,1}}{0}
	\drawinterval[pos=above]{/srv1}{}{Retransmit}

	\advancetime
	\msgx[label pos=below src]{/srv2}{/srv1}{\lrn{m_1}}{0}
	\execbox{/srv1}{/srv1}{$m_1$}{0.6}
	\execbox{/srv2}{/srv2}{$m_1$}{1}
	\advancetime
	\msgx{/srv1}{/clt1}{\rep{\state{1}{1}}}{0}
	\msgx{/srv2}{/clt1}{\rep{\state{1}{2}}}{.3}
	\advancetime

	\drawdash{/srv2}{/srv1}
	\fail{/srv2}
	\advancetime
	\drawmark{/srv1}{Detected}
	% \advancetime
	%NOTE: We cease to send Accept messages when in single server mode.
	% \msgxloss[label pos=below src]{/srv2}{/srv1}{\acc{m_2,1}}{0}

	\advancetime
	\execbox{/srv1}{/srv1}{$m_2$}{0}
	\msgx[label pos=below dst]{/srv1}{/clt2}{\rep{\state{12}{1}}}{.5}
	\advancetime
	\drawtimelines

% \caption{\label{a3-0b}Solution \wforlearn: The leader waits for \ev{\lrn{m_1}} before executing the request $m_1$.}

