%!TEX root = ../paxos-tutorial.tex

	\input{slidefig/2c2s-noleader}
	\msgx{/clt1}{/srv1}{\req{m_1}}{.5}
	\execbox{/srv1}{/srv1}{$m_1$}{1.4}

	\msgx{/srv1}{/clt1}{\rep{\state{1}{1}}}{1.7}
	\msgx[width=1]{/clt1}{/srv2}{}{.5}
	\execbox{/srv2}{/srv2}{$m_1$}{1.8}

	\msgx{/srv2}{/clt1}{\rep{\state{21}{2}}}{2.4}
	\msgx[label pos=lower]{/clt2}{/srv2}{\req{m_2}}{.5}
	\execbox{/srv2}{/srv2}{$m_2$}{1.1}

	\msgx[width=2.5,controls={0,.5}{0,-2}]{/clt2}{/srv1}{}{.5}
	\execbox{/srv1}{/srv1}{$m_2$}{3.3}

	\msgx[label pos=lower]{/srv2}{/clt2}{\rep{\state{2}{2}}}{1.3}
	\advancetime[2]
	\msgx[label pos=lower]{/srv1}{/clt2}{\rep{\state{12}{1}}}{1.6}
	\advancetime[3]
	\drawtimelines

% \caption{\label{a1}Problem: Two servers cannot order messages from several clients without coordination.}
% \caption{\label{a1}Two servers cannot order messages from several clients. The servers become inconsistent, and it is exposed to the clients: \clt{1} observe replies: \rep{\state{1}{}}\rep{\state{21}{}}, while \clt{2} observe replies: \rep{\state{2}{}}\rep{\state{12}{}}.}

